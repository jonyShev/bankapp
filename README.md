# Bank System (Microservices)

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –±–∞–Ω–∫–æ–≤—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞.
–°—Ç–µ–∫: Java 17, Spring Boot 3, Spring Cloud, PostgreSQL, Keycloak, Consul, Docker Compose.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É—é—Ç—Å—è –≤ Consul. –í—Ö–æ–¥–Ω–∞—è —Ç–æ—á–∫–∞ ‚Äî Spring Cloud Gateway (8080).
–°–µ—Ä–≤–∏—Å—ã:
gateway ‚Äî –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è (–ø–æ—Ä—Ç 8080).
front-ui ‚Äî HTML-—à–∞–±–ª–æ–Ω—ã /main, /signup, —Ñ–æ—Ä–º–∞ –ª–æ–≥–∏–Ω–∞ (–ø–æ—Ä—Ç 8081).
accounts ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ —Å—á–µ—Ç–∞, —Å—Ö–µ–º–∞ –ë–î accounts, –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ /api/internal/**.
exchange ‚Äî –∫—É—Ä—Å—ã –≤–∞–ª—é—Ç, —Å—Ö–µ–º–∞ –ë–î exchange.
exchange-generator ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫—É—Ä—Å–æ–≤ –∏ –∑–∞–ø–∏—Å—å –≤ exchange –ø–æ JWT.
cash ‚Äî –ø–æ–ø–æ–ª–Ω–µ–Ω–∏–µ/—Å–Ω—è—Ç–∏–µ, S2S —Ç–æ–∫–µ–Ω.
transfer ‚Äî –ø–µ—Ä–µ–≤–æ–¥—ã ¬´—Å–µ–±–µ¬ª –∏ ¬´–¥—Ä—É–≥–æ–º—É¬ª, –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è —á–µ—Ä–µ–∑ RUB, S2S —Ç–æ–∫–µ–Ω.
blocker ‚Äî –∞–Ω—Ç–∏—Ñ—Ä–æ–¥ (–ª–∏–º–∏—Ç—ã/—Å–ª—É—á–∞–π–Ω—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏).
notifications ‚Äî –ø—Ä–∏—ë–º –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π –æ–ø–µ—Ä–∞—Ü–∏–π.
–ë—Ä–∞—É–∑–µ—Ä –æ–±—Ä–∞—â–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ gateway. –í–Ω–µ—à–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã –Ω–µ –ø—Ä–æ–∫—Å–∏—Ä—É—é—Ç /api/internal/**.

## –°–±–æ—Ä–∫–∞

## !!!–í–∞–∂–Ω–æ!!! 
–≤ —Å–ª—É—á–∞–µ –≤–æ–∑–Ω–∏–∫–æ–Ω–æ–≤–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–¥–∞–ª–∏—Ç—å –ø–∞–ø–∫–∏ target —Ä—É–∫–∞–º–∏!


```bash
./mvnw -DskipTests package
```

## –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose

```bash
docker-compose up --build
```

## –¢–µ—Å—Ç—ã

```bash
./mvnw test
```

## –í–µ—Ä—Å–∏—è
v1.0 - –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã, —Å–µ—Ä–≤–∏—Å-–¥–∏—Å–∫–∞–≤–µ—Ä–∏, gateway, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è, –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å, 
–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –º–µ–∂—Å–µ—Ä–≤–∏—Å–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Å–Ω–æ–≤–Ω—ã—Ö –±–∏–∑–Ω–µ—Å-–æ–ø–µ—Ä–∞—Ü–∏–π, 
–º–∏–≥—Ä–∞—Ü–∏–∏, —Ç–µ—Å—Ç—ã –∏ –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker Compose.








## üß± –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –≤–æ–∑—Ä–∞—Å—Ç–∞ ‚â• 18 –ª–µ—Ç –∏ –∞–≤—Ç–æ-–ª–æ–≥–∏–Ω–æ–º  
‚úÖ Form-login —á–µ—Ä–µ–∑ Spring Security  
‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è –∏ –≤—Å–µ—Ö –≤–∞–ª—é—Ç–Ω—ã—Ö —Å—á–µ—Ç–æ–≤ (`exists =true/false`)  
‚úÖ –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ / —Å–Ω—è—Ç–∏–µ —Å—Ä–µ–¥—Å—Ç–≤ (`cashErrors`)  
‚úÖ –û–±–º–µ–Ω –≤–∞–ª—é—Ç –º–µ–∂–¥—É —Å–≤–æ–∏–º–∏ —Å—á–µ—Ç–∞–º–∏ (`transferErrors`)  
‚úÖ –ü–µ—Ä–µ–≤–æ–¥ –¥—Ä—É–≥–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é (`transferOtherErrors`)  
‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π (anti-fraud service `blocker`)  
‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ `notifications` –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π  
‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞:
- —Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è (`passwordErrors`)
- —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è (–§–ò–û, –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è)
- —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–∞–ª—é—Ç–Ω—ã–º–∏ —Å—á–µ—Ç–∞–º–∏ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –Ω—É–ª–µ–≤—ã—Ö)  
  ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ —á–µ—Ä–µ–∑ **Consul KV**  
  ‚úÖ –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã `/api/internal/**`  
  ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ Flyway (—Å—Ö–µ–º—ã `accounts`, `exchange`)  
  ‚úÖ –¢–µ—Å—Ç—ã: unit / integration (Testcontainers Postgres) / contract (Spring Cloud Contract)

---

## üóÑ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ Consul KV

Consul UI ‚Äî [http://localhost:8500](http://localhost:8500)

### –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
`config/application/data`